### **EXPERIMENT 31**
> *Graphs*  
*DSA*

---
---

#### **Aim of the experiment:**
> Implement and compare different swap space allocation algorithms (First Fit, Best Fit, Worst Fit)

---

#### **Program:**
```c
#include <stdio.h>
#include <stdlib.h>

struct SwapBlock {
    int blockID;
    int isUsed;
    int processID;
};

struct SwapSpace {
    struct SwapBlock* blocks;
    int totalBlocks;
    int usedBlocks;
};

void initSwapSpace(struct SwapSpace* swap, int size) {
    swap->blocks = (struct SwapBlock*)malloc(size * sizeof(struct SwapBlock));
    swap->totalBlocks = size;
    swap->usedBlocks = 0;
    
    for (int i = 0; i < size; i++) {
        swap->blocks[i].blockID = i;
        swap->blocks[i].isUsed = 0;
        swap->blocks[i].processID = -1;
    }
}

int allocateSwap(struct SwapSpace* swap, int processID) {
    for (int i = 0; i < swap->totalBlocks; i++) {
        if (!swap->blocks[i].isUsed) {
            swap->blocks[i].isUsed = 1;
            swap->blocks[i].processID = processID;
            swap->usedBlocks++;
            return i;
        }
    }
    return -1;
}

void deallocateSwap(struct SwapSpace* swap, int blockID) {
    if (blockID >= 0 && blockID < swap->totalBlocks && swap->blocks[blockID].isUsed) {
        swap->blocks[blockID].isUsed = 0;
        swap->blocks[blockID].processID = -1;
        swap->usedBlocks--;
    }
}

void displaySwapStatus(struct SwapSpace* swap) {
    printf("Swap Space Status:\n");
    for (int i = 0; i < swap->totalBlocks; i++) {
        printf("Block %d: %s", i, swap->blocks[i].isUsed ? "Used" : "Free");
        if (swap->blocks[i].isUsed) {
            printf(" (Process %d)", swap->blocks[i].processID);
        }
        printf("\n");
    }
    printf("Used: %d/%d blocks\n", swap->usedBlocks, swap->totalBlocks);
}

int main() {
    struct SwapSpace swap;
    initSwapSpace(&swap, 6);
    
    allocateSwap(&swap, 101);
    allocateSwap(&swap, 102);
    allocateSwap(&swap, 103);
    
    displaySwapStatus(&swap);
    
    deallocateSwap(&swap, 1);
    printf("\nAfter deallocating block 1:\n");
    displaySwapStatus(&swap);
    
    return 0;
}
```

---

#### **Sample Output:**
```
Swap Space Status:
Block 0: Used (Process 101)
Block 1: Used (Process 102)
Block 2: Used (Process 103)
Block 3: Free
Block 4: Free
Block 5: Free
Used: 3/6 blocks

After deallocating block 1:
Swap Space Status:
Block 0: Used (Process 101)
Block 1: Free
Block 2: Used (Process 103)
Block 3: Free
Block 4: Free
Block 5: Free
Used: 2/6 blocks
```

---

#### **Conclusion:**
> Swap space management efficiently handles virtual memory allocation and deallocation for process management

---

<div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
  <div style="text-align: left;">
    <a href="30.html" style="background: #333; color: white; padding: 8px 16px; border-radius: 20px; text-decoration: none; font-weight: bold;">Prev</a>
  </div>
  <div style="text-align: center;">
    <a href="../" style="background: #333; color: white; padding: 8px 16px; border-radius: 20px; text-decoration: none; font-weight: bold;">üè†</a>
  </div>
  <div style="text-align: right;">
    <a href="32.html" style="background: #333; color: white; padding: 8px 16px; border-radius: 20px; text-decoration: none; font-weight: bold;">Next</a>
  </div>
</div>

---